<div class="panel panel-default" ng-controller="thucdonController">
    <div class="panel-heading">
        <h3 class="panel-title">THỰC ĐƠN</h3>
        <div class="panel-controls">
            &nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-success" ng-click="AddNhomThucDon()"><i class="fa fa-plus"></i> Thêm Nhóm thực đơn</button>
        </div>
    </div>
    <div class="panel-body">
        <span us-spinner="{radius:15, width:4, length: 8}"></span>
        <!--Nhóm thực đơn-->
        <div class="col-md-2 col-sm-2 col-xs-12" id="nhomThucDon">
            <div class="list-container">
                <div class="dx-item dx-list-item" style="border-bottom: 0.5px solid #d9d8d8" ng-click="GetAllThucDon()"><div class="dx-template-wrapper ng-scope dx-item-content dx-list-item-content"><div><div style="font-size: 15px;">Tất cả</div></div></div></div>
                <div dx-list="listNhomThucDons" dx-item-alias="nhomThucDon">
                    <div data-options="dxTemplate: {name: 'item'}">
                        <div>
                            <div class="pull-left">{{nhomThucDon.ten}}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div dx-context-menu="contextMenuNhomThucDon"></div>   
        </div>
        <!--Thực đơn-->
        <div class="col-md-6 col-sm-6 col-xs-12" id="thucdon">
            <div id="gridContainer" dx-data-grid="gridThucDons"></div>
            <div dx-context-menu="contextMenuThucDon"></div>
        </div>
        <!--Định lượng-->
        <div class="col-md-4 col-sm-4 col-xs-12" id="dinhluong">
            <div id="gridContainer" dx-data-grid="gridDinhLuongs"></div>
            <!--<div dx-context-menu="contextMenuDinhLuong"></div>-->
        </div>

        <!--NHÓM THỰC ĐƠN-->
        <!--Popup Modify-->
        <div class="popup" dx-popup="popupModifyNhomThucDon">
            <div data-options="dxTemplate: { name:'templateModifyNhomThucDon' }">
                <form ng-submit="SaveNhomThucDon($event)" dx-validation-group="{nhomThucDon}">
                    <div class="row">
                        <div class="form-group col-md-12 col-sm-12 col-xs-12">
                            <div class="dx-field">
                                <label>Tên <span class="text-danger" title="Vui lòng nhập trường này" data-toggle="tooltip">(*)</span></label>
                                <div dx-text-box="controlNhomThucDon.ten"
                                     dx-validator="{validationRules:[{type: 'required', message: 'Nhập tên Nhóm thực đơn'}]}"></div>
                            </div>
                        </div>

                        <div dx-validation-summary="{nhomThucDon}"></div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="pull-left" dx-button="{ text: 'Lưu', icon: 'floppy', type: 'success', useSubmitBehavior: true }"></div>
                        <div class="pull-right" dx-button="{ text: 'Hủy bỏ', icon: 'clear', onClick: CancelSaveNhomThucDon, type: 'danger' }"></div>
                    </div>
                </form>
            </div>
        </div>
        <!--Popup Delete-->
        <div class="popup" dx-popup="popupDeleteNhomThucDon">
            <div data-options="dxTemplate: { name:'templateDeleteNhomThucDon' }">
                <div style="text-align: center">Bạn có chắc chắn muốn xóa?</div>
                <br />
                <div dx-button="{ text: 'Có', icon: 'floppy', onClick: ConfirmDeleteNhomThucDon, type: 'success' }"></div>
                <div dx-button="{ text: 'Không', icon: 'clear', onClick: CancelDeleteNhomThucDon, type: 'danger' }"></div>
            </div>
        </div>

        <!--THỰC ĐƠN-->
        <!--Popup Modify-->
        <div class="popup" dx-popup="popupModifyThucDon">
            <div data-options="dxTemplate: { name:'templateModifyThucDon' }">
                <form ng-submit="SaveThucDon($event)" dx-validation-group="{thucdon}">
                    <div class="row">
                        <div class="form-group col-md-6 col-sm-6 col-xs-12">
                            <div class="dx-field">
                                <label>Tên <span class="text-danger" title="Vui lòng nhập trường này" data-toggle="tooltip">(*)</span></label>
                                <div dx-text-box="controlThucDon.ten"
                                     dx-validator="{validationRules:[{type: 'required', message: 'Nhập tên Mặt hàng'}]}"></div>
                            </div>
                        </div>
                        <div class="form-group col-md-6 col-sm-6 col-xs-12">
                            <div class="dx-field">
                                <label>Nhóm thực đơn</label>
                                <div>
                                    <div class="col-md-11" style="margin: 0px; padding: 0px;">
                                        <div dx-select-box="controlThucDon.nhomThucDon"
                                             dx-validator="{validationRules:[{type: 'required', message: 'Chọn nhóm thực đơn'}]}"></div>
                                    </div>
                                    <div class="col-md-1" style="margin: 0px; padding: 0px;">
                                        <div dx-button="controlThucDon.addNhomThucDon" style="margin: 0px"></div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="form-group col-md-6 col-sm-6 col-xs-12">
                            <div class="dx-field">
                                <label>Đơn vị tính</label>
                                <div>
                                    <div class="col-md-11" style="margin: 0px; padding: 0px;">
                                        <div dx-select-box="controlThucDon.donvitinh"></div>
                                    </div>
                                    <div class="col-md-1" style="margin: 0px; padding: 0px;">
                                        <div dx-button="controlThucDon.addDonViTinh" style="margin: 0px"></div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="form-group col-md-6 col-sm-6 col-xs-12">
                            <div class="dx-field">
                                <label>Đơn giá</label>
                                <div class="dx-texteditor">
                                    <div class="dx-texteditor-container">
                                        <input type="text" class="dx-texteditor-input" style="text-align: right" fcsa-number ng-model="thucdon.dongia" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div dx-validation-summary="{thucdon}"></div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="pull-left" dx-button="{ text: 'Lưu', icon: 'floppy', type: 'success', useSubmitBehavior: true }"></div>
                        <div class="pull-right" dx-button="{ text: 'Hủy bỏ', icon: 'clear', onClick: CancelSaveThucDon, type: 'danger' }"></div>
                    </div>
                </form>
            </div>
        </div>
        <!--Popup Delete-->
        <div class="popup" dx-popup="popupDeleteThucDon">
            <div data-options="dxTemplate: { name:'templateDeleteThucDon' }">
                <div style="text-align: center">Bạn có chắc chắn muốn xóa?</div>
                <br />
                <div dx-button="{ text: 'Có', icon: 'floppy', onClick: ConfirmDeleteThucDon, type: 'success' }"></div>
                <div dx-button="{ text: 'Không', icon: 'clear', onClick: CancelDeleteThucDon, type: 'danger' }"></div>
            </div>
        </div>

        <!--ĐƠN VỊ TÍNH-->
        <!--Popup Modify-->
        <div class="popup" dx-popup="popupModifyDonViTinh">
            <div data-options="dxTemplate: { name:'templateModifyDonViTinh' }">
                <form ng-submit="SaveDonViTinh($event)" dx-validation-group="{donvitinh}">
                    <div class="row">
                        <div class="form-group col-md-12 col-sm-12 col-xs-12">
                            <div class="dx-field">
                                <label>Tên <span class="text-danger" title="Vui lòng nhập trường này" data-toggle="tooltip">(*)</span></label>
                                <div dx-text-box="controlDonViTinh.ten"
                                     dx-validator="{validationRules:[{type: 'required', message: 'Nhập tên Đơn vị tính'}]}"></div>
                            </div>
                        </div>
                        <div dx-validation-summary="{donvitinh}"></div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="pull-left" dx-button="{ text: 'Lưu', icon: 'floppy', type: 'success', useSubmitBehavior: true }"></div>
                        <div class="pull-right" dx-button="{ text: 'Hủy bỏ', icon: 'clear', onClick: CancelSaveDonViTinh, type: 'danger' }"></div>
                    </div>
                </form>
            </div>
        </div>

        <!--ĐỊNH LƯỢNG-->
        <!--Popup Modify-->
        <div class="popup" dx-popup="popupModifyDinhLuong">
            <div data-options="dxTemplate: { name:'templateModifyDinhLuong' }">
                <form ng-submit="SaveDinhLuong($event)" dx-validation-group="{dinhluong}">
                    <div class="row">
                        <!--Định lượng-->
                        <div class="row">
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <div class="dx-field">
                                    <div class="field-customization" dx-lookup="lookupMatHangs" id="lookupMatHangs"></div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="col-md-12 col-sm-12 col-xs-12" id="dinhluongEdit">
                            <div style="height: 60vh" dx-data-grid="gridDinhLuongEdits"></div>
                            <!--<div dx-context-menu="contextMenuThucDon"></div>-->
                        </div>
                        <div dx-validation-summary="{dinhluong}"></div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="pull-left" dx-button="{ text: 'Lưu', icon: 'floppy', type: 'success', useSubmitBehavior: true }"></div>
                        <div class="pull-right" dx-button="{ text: 'Hủy bỏ', icon: 'clear', onClick: CancelSaveDinhLuong, type: 'danger' }"></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>